<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; ndf-parse 0.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Documentation" href="docs.html" />
    <link rel="prev" title="ndf-parse" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ndf-parse
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#managing-dependencies">Managing dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-ndf-parse">Installing ndf-parse</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-this-package">Using This Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#caveats">Caveats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#development">Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#repo-structure">Repo Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docs-development">Docs Development</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-in-pair-with-custom-tree-sitter-ndf">Using in Pair With Custom tree-sitter-ndf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pull-requests-and-issues">Pull Requests and Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ndf-parse</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pages/overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h1>
<p>This package allows to parse Eugen Systems ndf files, modify them and write back
modified versions as a valid ndf code. It was created to allow easier editing of
warno mods than what is currently available with game’s own tools.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This package was created for and tested with Windows only! More on that in
<a class="reference external" href="#caveats">caveats</a> section.</p>
</div>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/downloads/">python</a> &gt;= 3.8 (this package
was developed on 3.8 and tested on 3.11)</p></li>
</ul>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tree-sitter/py-tree-sitter/">py-tree-sitter</a> - either gets installed automatically (will require
a C compiler installed) or can be downloaded from a release bundle and
installed manually (no compiler required).</p></li>
<li><p><a class="reference external" href="https://github.com/Ulibos/tree-sitter-ndf/">tree-sitter-ndf</a> - comes packaged in a release, can be overridden
by a custom lib build (needed only for development purposes).</p></li>
</ul>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<section id="managing-dependencies">
<h3>Managing dependencies<a class="headerlink" href="#managing-dependencies" title="Permalink to this heading"></a></h3>
<p>One of package’s dependencies requires a C compiler to be installed on your PC.
In case of Windows it’s going to be a set of <a class="reference external" href="https://visualstudio.microsoft.com/visual-cpp-build-tools/">Microsoft C++Build Tools</a> that requires around 8Gb of space. If you already have it (basically
if you have Visual Studio installed) then you can proceed directly to the <a class="reference external" href="#installing-ndf-parse">last
step</a>. If you’re feeling like downloading the thing then download and
install the Build Tools, then proceed to the <a class="reference external" href="#installing-ndf-parse">last step</a>. If you don’t
want to waste your drive space then download one of prebuilt versions from a
release section (make sure to match it to your python version, that being
<code class="docutils literal notranslate"><span class="pre">cp###</span></code>), say, <code class="docutils literal notranslate"><span class="pre">tree_sitter-0.20.1-cp311-cp311-win_amd64.whl</span></code> open command
prompt and execute the following:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that if you didn’t add python to the PATH variable during installation,
you’ll have to run it with full path to <cite>pip</cite>, for example
<code class="docutils literal notranslate"><span class="pre">C:\Users\User\AppData\Local\Python311-64\Scripts\pip.exe</span></code></p>
</div>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>pip install C:\path\to\tree_sitter-0.20.1-cp311-cp311-win_amd64.whl
</pre></div>
</div>
</section>
<section id="installing-ndf-parse">
<h3>Installing ndf-parse<a class="headerlink" href="#installing-ndf-parse" title="Permalink to this heading"></a></h3>
<p>Download one of the provided releases, say,
<code class="docutils literal notranslate"><span class="pre">ndf_parse-0.1.0-py3-none-any.whl</span></code>. Open command prompt and execute:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>pip install C:\path\to\ndf_parse-0.1.0-py3-none-any.whl
</pre></div>
</div>
</section>
</section>
<section id="using-this-package">
<h2>Using This Package<a class="headerlink" href="#using-this-package" title="Permalink to this heading"></a></h2>
<p>For usage please refer to the
<a class="reference external" href="https://Ulibos.github.io/ndf-parse/pages/docs.html">documentation</a>.</p>
</section>
<section id="caveats">
<h2>Caveats<a class="headerlink" href="#caveats" title="Permalink to this heading"></a></h2>
<p>This package gets shipped with an <code class="docutils literal notranslate"><span class="pre">ndf.dll</span></code> containing the tree-sitter
language parser. It’s linkage is also hardcoded in module’s <code class="docutils literal notranslate"><span class="pre">__init__</span></code>. If
you’re planning to use this on linux or MacOS (why?..), you will have to build
the lib yourself (<a class="reference external" href="https://github.com/Ulibos/tree-sitter-ndf/">second dependency</a>) and set an env variable
<code class="docutils literal notranslate"><span class="pre">NDF_LIB_PATH=path/to/your/lib</span></code>.</p>
</section>
<section id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this heading"></a></h2>
<p>In order to develop this module you will need to fork this repo, clone the fork
and run the following command:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">-e</span> <span class="n">path</span><span class="p">\</span><span class="n">to</span><span class="p">\</span><span class="n">cloned</span><span class="p">\</span><span class="n">repo</span><span class="no">[dev]</span>
<span class="c"># note the [dev] part</span>
</pre></div>
</div>
<p>It will load most dependencies automatically. Only thing you will have to
provide manually is an <code class="docutils literal notranslate"><span class="pre">ndf.dll</span></code> (<a class="reference external" href="#using-in-pair-with-custom-tree-sitter-ndf">see below</a>).</p>
<p><a class="reference external" href="https://pypi.org/project/black/">black</a> is used for code styling
with line length limit == 79. Code is (mostly) type hinted. <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> does
not store editor specific excludes, I store those in <code class="docutils literal notranslate"><span class="pre">.git\info\exclude</span></code>.</p>
<p>The package can be built using <code class="docutils literal notranslate"><span class="pre">scripts\build_package.bat</span></code> script. It outputs
the result to <code class="docutils literal notranslate"><span class="pre">build\package</span></code> folder.</p>
<section id="repo-structure">
<h3>Repo Structure<a class="headerlink" href="#repo-structure" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build</span></code> - temp folder to store build data, untracked</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs</span></code> - compiled documentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ndf_parse</span></code> - package source code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx</span></code> - documentation sources</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scripts</span></code> - mostly scripts for building stuff</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests</span></code> - what tests?..</p></li>
</ul>
</section>
<section id="docs-development">
<h3>Docs Development<a class="headerlink" href="#docs-development" title="Permalink to this heading"></a></h3>
<p>To build docs, use <code class="docutils literal notranslate"><span class="pre">scripts\build_docs.bat</span></code>. If you’re planning to test
scripts from this documentation (the ones in <code class="docutils literal notranslate"><span class="pre">sphinx\pages\code</span></code>), you will
have to setup 2 env variables in your terminal:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">set</span> <span class="nv">MOD_SRC</span><span class="p">=</span><span class="s2">&quot;path\to\source\mod&quot;</span>
<span class="k">set</span> <span class="nv">MOD_DST</span><span class="p">=</span><span class="s2">&quot;path\to\destination\mod&quot;</span>
</pre></div>
</div>
</section>
<section id="using-in-pair-with-custom-tree-sitter-ndf">
<h3>Using in Pair With Custom tree-sitter-ndf<a class="headerlink" href="#using-in-pair-with-custom-tree-sitter-ndf" title="Permalink to this heading"></a></h3>
<p>This package looks for an <code class="docutils literal notranslate"><span class="pre">ntf.dll</span></code> in the following places (descending
priority):</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NDF_LIB_PATH</span></code> env variable
(<code class="docutils literal notranslate"><span class="pre">&quot;C:\custom\path\to\ndf.dll&quot;</span></code>),</p></li>
<li><p>default tree-sitter’s build path
(<code class="docutils literal notranslate"><span class="pre">&quot;%LocalAppData%\tree-sitter\lib\ndf.dll&quot;</span></code>),</p></li>
<li><p>a copy bundled with the package (<code class="docutils literal notranslate"><span class="pre">ndf_parse\bun\ndf.dll</span></code>).</p></li>
</ol>
<p>The repo itself does not hold a prebuilt copy of the library so you’ll have to
either yank one from a release wleel (it’s just a renamed zip) or build one
<a class="reference external" href="https://github.com/Ulibos/tree-sitter-ndf/">from source</a>.</p>
</section>
<section id="pull-requests-and-issues">
<h3>Pull Requests and Issues<a class="headerlink" href="#pull-requests-and-issues" title="Permalink to this heading"></a></h3>
<p>I have no idea on how frequently I’ll be able to respond to those, so
expect delays. You might find it easier catching me on WarYes discord in
case you have some blocking issue or a PR.</p>
</section>
</section>
<section id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this heading"></a></h2>
<p>Created by Ulibos, 2023.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="ndf-parse" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="docs.html" class="btn btn-neutral float-right" title="Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Ulibos.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>